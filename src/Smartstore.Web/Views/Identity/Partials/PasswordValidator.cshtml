@using Smartstore.Web.Models.Identity

@inject CustomerSettings CustomerSettings

@{
    var res = new Dictionary<string, string>
    {
        ["TooShort"] = T("Identity.Error.PasswordTooShort", CustomerSettings.PasswordMinLength),
        ["RequireLower"] = T("Identity.Error.PasswordRequiresLower"),
        ["RequireUpper"] = T("Identity.Error.PasswordRequiresUpper"),
        ["RequireDigit"] = T("Identity.Error.PasswordRequiresDigit"),
        ["RequireNonAlpha"] = T("Identity.Error.PasswordRequiresNonAlphanumeric"),
        ["RequireUniqueChars"] = T("Identity.Error.PasswordRequiresUniqueChars", CustomerSettings.PasswordRequiredUniqueChars)
    };
}

<script sm-target-zone="scripts" data-origin="password-validator" type="module">
    import { PasswordValidator } from "@(Url.Content("~/js/smartstore.passwordvalidator.js"))";

    const validator = new PasswordValidator({
            minLength: @(CustomerSettings.PasswordMinLength),
            requireLower: @(CustomerSettings.PasswordRequireLowercase.ToString().ToLower()),
            requireUpper: @(CustomerSettings.PasswordRequireUppercase.ToString().ToLower()),
            requireDigit: @(CustomerSettings.PasswordRequireDigit.ToString().ToLower()),
            requireNonAlpha: @(CustomerSettings.PasswordRequireNonAlphanumeric.ToString().ToLower()),
            requireUniqueChars: @(CustomerSettings.PasswordRequiredUniqueChars)
        }, {
        @foreach (var (key, val) in res)
        {
            <text>"@key": "@val",</text>
        }
    });
</script>
